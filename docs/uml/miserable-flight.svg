<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="4927pt" height="2501pt"
 viewBox="0.00 0.00 4926.78 2500.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2496.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2496.8 4922.7782,-2496.8 4922.7782,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3081.13,-758.7 3081.13,-1017.9 3466.065,-1017.9 3466.065,-758.7 3081.13,-758.7"/>
<text text-anchor="middle" x="3273.5975" y="-1001.3" font-family="Times,serif" font-size="14.00" fill="#000000">FDPolicyToken</text>
<polyline fill="none" stroke="#000000" points="3081.13,-993.1 3466.065,-993.1 "/>
<text text-anchor="start" x="3089.13" y="-976.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3089.13" y="-959.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyFlow: IPolicyFlow</text>
<text text-anchor="start" x="3089.13" y="-942.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_nextId: uint256</text>
<polyline fill="none" stroke="#000000" points="3081.13,-934.7 3466.065,-934.7 "/>
<text text-anchor="start" x="3089.13" y="-918.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3089.13" y="-901.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTokenURI(_tokenId: uint256): string</text>
<text text-anchor="start" x="3089.13" y="-884.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructTokenURI(_params: PolicyTokenURIParam): string</text>
<text text-anchor="start" x="3089.13" y="-867.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3089.13" y="-850.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updatePolicyFlow(_policyFlow: address)</text>
<text text-anchor="start" x="3089.13" y="-834.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3089.13" y="-817.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="3089.13" y="-800.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tokenURI(_tokenId: uint256): string</text>
<text text-anchor="start" x="3089.13" y="-783.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintPolicyToken(_to: address)</text>
<text text-anchor="start" x="3089.13" y="-766.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferOwner(_from: address, _to: address, _tokenId: uint256)</text>
</g>
<!-- 10 -->
<g id="node14" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2087.7951,-1516.9 2087.7951,-1708.9 3245.3999,-1708.9 3245.3999,-1516.9 2087.7951,-1516.9"/>
<text text-anchor="middle" x="2666.5975" y="-1692.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2666.5975" y="-1675.5" font-family="Times,serif" font-size="14.00" fill="#000000">IPolicyFlow</text>
<polyline fill="none" stroke="#000000" points="2087.7951,-1667.3 3245.3999,-1667.3 "/>
<text text-anchor="middle" x="2666.5975" y="-1650.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2087.7951,-1642.5 3245.3999,-1642.5 "/>
<text text-anchor="start" x="2095.7951" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2095.7951" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;newApplication(_productId: uint256, _flightNumber: string, _premium: uint256, _departureTimestamp: uint256, _landingTimestamp: uint256, _deadline: uint256, signature: bytes): (policyId: uint256)</text>
<text text-anchor="start" x="2095.7951" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;newClaimRequest(_policyId: uint256, _flightNumber: string, _timestamp: string, _path: string, _forceUpdate: bool)</text>
<text text-anchor="start" x="2095.7951" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;viewUserPolicy(address): PolicyInfo[]</text>
<text text-anchor="start" x="2095.7951" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPolicyInfoById(uint256): PolicyInfo</text>
<text text-anchor="start" x="2095.7951" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;policyOwnerTransfer(uint256, address, address)</text>
<text text-anchor="start" x="2095.7951" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;finalSettlement(_requestId: bytes32, _result: uint256)</text>
</g>
<!-- 0&#45;&gt;10 -->
<g id="edge7" class="edge">
<title>0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M3164.7277,-1018.2622C3047.1835,-1158.5794 2862.2698,-1379.3181 2753.8826,-1508.7044"/>
<polygon fill="#000000" stroke="#000000" points="2750.9152,-1506.7963 2747.1765,-1516.7096 2756.2812,-1511.2914 2750.9152,-1506.7963"/>
</g>
<!-- 11 -->
<g id="node15" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2368.9429,-2241.5 2368.9429,-2332.7 2466.2521,-2332.7 2466.2521,-2241.5 2368.9429,-2241.5"/>
<text text-anchor="middle" x="2417.5975" y="-2316.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2417.5975" y="-2299.3" font-family="Times,serif" font-size="14.00" fill="#000000">IPolicyStruct</text>
<polyline fill="none" stroke="#000000" points="2368.9429,-2291.1 2466.2521,-2291.1 "/>
<text text-anchor="middle" x="2417.5975" y="-2274.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2368.9429,-2266.3 2466.2521,-2266.3 "/>
<text text-anchor="middle" x="2417.5975" y="-2249.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 0&#45;&gt;11 -->
<g id="edge6" class="edge">
<title>0&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3316.4422,-1017.998C3384.3914,-1250.3985 3486.8475,-1741.8143 3254.5975,-2045.4 3160.9898,-2167.7594 2686.3425,-2248.4342 2496.3644,-2276.284"/>
<polygon fill="none" stroke="#000000" points="2494.5852,-2265.9316 2466.38,-2280.5849 2497.5669,-2286.7189 2494.5852,-2265.9316"/>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3182.5894,-206.1 3182.5894,-390.1 3364.6056,-390.1 3364.6056,-206.1 3182.5894,-206.1"/>
<text text-anchor="middle" x="3273.5975" y="-373.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3273.5975" y="-356.7" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyTokenURIParam</text>
<polyline fill="none" stroke="#000000" points="3182.5894,-348.5 3364.6056,-348.5 "/>
<text text-anchor="start" x="3190.5894" y="-331.9" font-family="Times,serif" font-size="14.00" fill="#000000">flightNumber: string</text>
<text text-anchor="start" x="3190.5894" y="-315.1" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="3190.5894" y="-298.3" font-family="Times,serif" font-size="14.00" fill="#000000">premium: uint256</text>
<text text-anchor="start" x="3190.5894" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">payoff: uint256</text>
<text text-anchor="start" x="3190.5894" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">purchaseTimestamp: uint256</text>
<text text-anchor="start" x="3190.5894" y="-247.9" font-family="Times,serif" font-size="14.00" fill="#000000">departureTimestamp: uint256</text>
<text text-anchor="start" x="3190.5894" y="-231.1" font-family="Times,serif" font-size="14.00" fill="#000000">landingTimestamp: uint256</text>
<text text-anchor="start" x="3190.5894" y="-214.3" font-family="Times,serif" font-size="14.00" fill="#000000">status: uint256</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M3273.5975,-390.3187C3273.5975,-485.7069 3273.5975,-635.9099 3273.5975,-746.4298"/>
<polygon fill="#000000" stroke="#000000" points="3273.5976,-746.6868 3277.5975,-752.6869 3273.5975,-758.6868 3269.5975,-752.6868 3273.5976,-746.6868"/>
</g>
<!-- 1 -->
<g id="node3" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2399.0571,-725.1 2399.0571,-1051.5 2934.1379,-1051.5 2934.1379,-725.1 2399.0571,-725.1"/>
<text text-anchor="middle" x="2666.5975" y="-1034.9" font-family="Times,serif" font-size="14.00" fill="#000000">FlightOracle</text>
<polyline fill="none" stroke="#000000" points="2399.0571,-1026.7 2934.1379,-1026.7 "/>
<text text-anchor="start" x="2407.0571" y="-1010.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2407.0571" y="-993.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyFlow: IPolicyFlow</text>
<text text-anchor="start" x="2407.0571" y="-976.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracleAddress: address</text>
<text text-anchor="start" x="2407.0571" y="-959.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;jobId: bytes32</text>
<polyline fill="none" stroke="#000000" points="2399.0571,-951.5 2934.1379,-951.5 "/>
<text text-anchor="start" x="2407.0571" y="-934.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2407.0571" y="-918.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getChainlinkTokenAddress(): address</text>
<text text-anchor="start" x="2407.0571" y="-901.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOracleAddress(_newOracle: address)</text>
<text text-anchor="start" x="2407.0571" y="-884.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setJobId(_newJobId: bytes32)</text>
<text text-anchor="start" x="2407.0571" y="-867.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPolicyFlow(_policyFlow: address)</text>
<text text-anchor="start" x="2407.0571" y="-850.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2407.0571" y="-834.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OracleAddressChanged(newOracle: address)</text>
<text text-anchor="start" x="2407.0571" y="-817.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; JobIdChanged(newJobId: bytes32)</text>
<text text-anchor="start" x="2407.0571" y="-800.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyFlowChanged(newPolicyFlow: address)</text>
<text text-anchor="start" x="2407.0571" y="-783.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPolicyFlow()</text>
<text text-anchor="start" x="2407.0571" y="-766.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_policyFlow: address, _link: address)</text>
<text text-anchor="start" x="2407.0571" y="-750.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newOracleRequest(_payment: uint256, _url: string, _path: string, _times: int256): bytes32</text>
<text text-anchor="start" x="2407.0571" y="-733.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fulfill(_requestId: bytes32, _data: uint256)</text>
</g>
<!-- 1&#45;&gt;10 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M2666.5975,-1051.8179C2666.5975,-1190.9344 2666.5975,-1386.6855 2666.5975,-1506.3902"/>
<polygon fill="#000000" stroke="#000000" points="2663.0976,-1506.6597 2666.5975,-1516.6597 2670.0976,-1506.6597 2663.0976,-1506.6597"/>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3382.3705,-.5 3382.3705,-595.7 3894.8245,-595.7 3894.8245,-.5 3382.3705,-.5"/>
<text text-anchor="middle" x="3638.5975" y="-579.1" font-family="Times,serif" font-size="14.00" fill="#000000">InsurancePool</text>
<polyline fill="none" stroke="#000000" points="3382.3705,-570.9 3894.8245,-570.9 "/>
<text text-anchor="start" x="3390.3705" y="-554.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3390.3705" y="-537.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;USDT: IERC20</text>
<text text-anchor="start" x="3390.3705" y="-520.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;degisLottery: IDegisLottery</text>
<polyline fill="none" stroke="#000000" points="3382.3705,-512.5 3894.8245,-512.5 "/>
<text text-anchor="start" x="3390.3705" y="-495.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3390.3705" y="-479.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removeAllRequest(_user: address)</text>
<text text-anchor="start" x="3390.3705" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_removeOneRequest(_user: address)</text>
<text text-anchor="start" x="3390.3705" y="-445.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_deposit(_user: address, _amount: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-428.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_withdraw(_user: address, _amount: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-411.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_distributePremium(_premium: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-395.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateLPValue()</text>
<text text-anchor="start" x="3390.3705" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_updateLockedRatio()</text>
<text text-anchor="start" x="3390.3705" y="-361.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_dealUnstakeQueue(remainingPayoff: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-344.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3390.3705" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkCapacity(_payoff: uint256): bool</text>
<text text-anchor="start" x="3390.3705" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFrozenTime(_newFrozenTime: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;stake(_amount: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unstake(_amount: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unstakeMax()</text>
<text text-anchor="start" x="3390.3705" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateWhenBuy(_premium: uint256, _payoff: uint256, _user: address)</text>
<text text-anchor="start" x="3390.3705" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateWhenExpire(_premium: uint256, _payoff: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;payClaim(_premium: uint256, _payoff: uint256, _realPayoff: uint256, _user: address)</text>
<text text-anchor="start" x="3390.3705" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3390.3705" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPolicyFlow()</text>
<text text-anchor="start" x="3390.3705" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notZeroAddress(_address: address)</text>
<text text-anchor="start" x="3390.3705" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; afterFrozenTime(_user: address)</text>
<text text-anchor="start" x="3390.3705" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_emergencyPool: address, _degisLottery: address, _usdtAddress: address)</text>
<text text-anchor="start" x="3390.3705" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getUserBalance(_user: address): (_userBalance: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getUnlockedFor(_user: address): (_unlockedAmount: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPolicyFlow(_policyFlowAddress: address)</text>
<text text-anchor="start" x="3390.3705" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setIncomeDistribution(_newDistribution: uint256[])</text>
<text text-anchor="start" x="3390.3705" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCollateralFactor(_factor: uint256)</text>
<text text-anchor="start" x="3390.3705" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;revertUnstakeRequest(_user: address)</text>
<text text-anchor="start" x="3390.3705" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;revertAllUnstakeRequest(_user: address)</text>
</g>
<!-- 5 -->
<g id="node7" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3698.5165,-632.7 3698.5165,-1143.9 4282.6785,-1143.9 4282.6785,-632.7 3698.5165,-632.7"/>
<text text-anchor="middle" x="3990.5975" y="-1127.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3990.5975" y="-1110.5" font-family="Times,serif" font-size="14.00" fill="#000000">InsurancePoolStore</text>
<polyline fill="none" stroke="#000000" points="3698.5165,-1102.3 4282.6785,-1102.3 "/>
<text text-anchor="start" x="3706.5165" y="-1085.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3706.5165" y="-1068.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;unstakeRequests: mapping(address=&gt;UnstakeRequest[])</text>
<text text-anchor="start" x="3706.5165" y="-1052.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;unstakeQueue: address[]</text>
<text text-anchor="start" x="3706.5165" y="-1035.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3706.5165" y="-1018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyFlow: address</text>
<text text-anchor="start" x="3706.5165" y="-1001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;emergencyPool: address</text>
<text text-anchor="start" x="3706.5165" y="-984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;purchaseIncentiveAmount: uint256</text>
<text text-anchor="start" x="3706.5165" y="-968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;frozenTime: uint256</text>
<text text-anchor="start" x="3706.5165" y="-951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;userInfo: mapping(address=&gt;UserInfo)</text>
<text text-anchor="start" x="3706.5165" y="-934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;LPValue: uint256</text>
<text text-anchor="start" x="3706.5165" y="-917.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalStakingBalance: uint256</text>
<text text-anchor="start" x="3706.5165" y="-900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;realStakingBalance: uint256</text>
<text text-anchor="start" x="3706.5165" y="-884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedBalance: uint256</text>
<text text-anchor="start" x="3706.5165" y="-867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedRatio: uint256</text>
<text text-anchor="start" x="3706.5165" y="-850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralFactor: uint256</text>
<text text-anchor="start" x="3706.5165" y="-833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;availableCapacity: uint256</text>
<text text-anchor="start" x="3706.5165" y="-816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;activePremiums: uint256</text>
<text text-anchor="start" x="3706.5165" y="-800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rewardDistribution: uint256[]</text>
<polyline fill="none" stroke="#000000" points="3698.5165,-791.9 4282.6785,-791.9 "/>
<text text-anchor="start" x="3706.5165" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3706.5165" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Stake(userAddress: address, amount: uint256)</text>
<text text-anchor="start" x="3706.5165" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Unstake(userAddress: address, amount: uint256)</text>
<text text-anchor="start" x="3706.5165" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CollateralFactorChanged(oldFactor: uint256, newFactor: uint256)</text>
<text text-anchor="start" x="3706.5165" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyFlowChanged(policyFlowAddress: address)</text>
<text text-anchor="start" x="3706.5165" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyNewPolicy(userAddress: address, premium: uint256, payout: uint256)</text>
<text text-anchor="start" x="3706.5165" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RewardDistributionChanged(toLP: uint256, toLottery: uint256, toEmergency: uint256)</text>
<text text-anchor="start" x="3706.5165" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FrozenTimeChanged(_newFrozenTime: uint256)</text>
<text text-anchor="start" x="3706.5165" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PremiumDistributed(_premiumToEmergency: uint256, _premiumToLottery: uint256)</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge9" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3816.1444,-595.7936C3818.3255,-599.4508 3820.5064,-603.1074 3822.6855,-606.7613"/>
<polygon fill="none" stroke="#000000" points="3813.7388,-612.2591 3838.1236,-632.6463 3831.7747,-601.5023 3813.7388,-612.2591"/>
</g>
<!-- 3 -->
<g id="node5" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="585.3263,-1180.9 585.3263,-2044.9 1709.8687,-2044.9 1709.8687,-1180.9 585.3263,-1180.9"/>
<text text-anchor="middle" x="1147.5975" y="-2028.3" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyFlow</text>
<polyline fill="none" stroke="#000000" points="585.3263,-2020.1 1709.8687,-2020.1 "/>
<text text-anchor="start" x="593.3263" y="-2003.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="593.3263" y="-1986.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;buyerToken: IBuyerToken</text>
<text text-anchor="start" x="593.3263" y="-1969.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;sigManager: ISigManager</text>
<text text-anchor="start" x="593.3263" y="-1953.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyToken: IFDPolicyToken</text>
<text text-anchor="start" x="593.3263" y="-1936.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;flightOracle: IFlightOracle</text>
<text text-anchor="start" x="593.3263" y="-1919.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;insurancePool: IInsurancePool</text>
<text text-anchor="start" x="593.3263" y="-1902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;FLIGHT_STATUS_URL: string</text>
<text text-anchor="start" x="593.3263" y="-1885.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;totalPolicies: uint256</text>
<text text-anchor="start" x="593.3263" y="-1869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fee: uint256</text>
<text text-anchor="start" x="593.3263" y="-1852.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyList: mapping(uint256=&gt;PolicyInfo)</text>
<text text-anchor="start" x="593.3263" y="-1835.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;userPolicyList: mapping(address=&gt;uint256[])</text>
<text text-anchor="start" x="593.3263" y="-1818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;requestList: mapping(bytes32=&gt;uint256)</text>
<text text-anchor="start" x="593.3263" y="-1801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;delayResultList: mapping(uint256=&gt;uint256)</text>
<polyline fill="none" stroke="#000000" points="585.3263,-1793.7 1709.8687,-1793.7 "/>
<text text-anchor="start" x="593.3263" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="593.3263" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_policyCheck(_premium: uint256, _payoff: uint256, _user: address, _policyId: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;policyExpired(_premium: uint256, _payoff: uint256, _user: address, _policyId: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_policyClaimed(_premium: uint256, _payoff: uint256, _user: address, _policyId: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPayoff(_delay: uint256): uint256</text>
<text text-anchor="start" x="593.3263" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkSignature(signature: bytes, _flightNumber: string, _address: address, _premium: uint256, _deadline: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="593.3263" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;viewUserPolicy(_user: address): PolicyInfo[]</text>
<text text-anchor="start" x="593.3263" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeFee(_fee: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeMaxPayoff(_newMaxPayoff: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;changeMinTimeBeforeDeparture(_newMinTime: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFlightOracle(_oracleAddress: address)</text>
<text text-anchor="start" x="593.3263" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setURL(_url: string)</text>
<text text-anchor="start" x="593.3263" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDelayThreshold(_thresholdMin: uint256, _thresholdMax: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1541.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;policyOwnerTransfer(_tokenId: uint256, _oldOwner: address, _newOwner: address)</text>
<text text-anchor="start" x="593.3263" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="593.3263" y="-1508.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeChanged(newFee: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1491.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaxPayoffChanged(newMaxPayoff: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1474.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MinTimeBeforeDepartureChanged(newMinTime: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1457.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FlightOracleChanged(newOracle: address)</text>
<text text-anchor="start" x="593.3263" y="-1441.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OracleUrlChanged(newUrl: string)</text>
<text text-anchor="start" x="593.3263" y="-1424.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DelayThresholdChanged(thresholdMin: uint256, thresholdMax: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1407.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewPolicyApplication(_policyID: uint256, user: address)</text>
<text text-anchor="start" x="593.3263" y="-1390.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicySold(policyID: uint256, user: address)</text>
<text text-anchor="start" x="593.3263" y="-1373.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyDeclined(policyID: uint256, user: address)</text>
<text text-anchor="start" x="593.3263" y="-1357.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyClaimed(policyID: uint256, user: address)</text>
<text text-anchor="start" x="593.3263" y="-1340.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyExpired(policyID: uint256, user: address)</text>
<text text-anchor="start" x="593.3263" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FulfilledOracleRequest(policyId: uint256, requestId: bytes32)</text>
<text text-anchor="start" x="593.3263" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyOwnerTransfer(tokenId: uint256, newOwner: address)</text>
<text text-anchor="start" x="593.3263" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; validAddress()</text>
<text text-anchor="start" x="593.3263" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_insurancePool: address, _policyToken: address, _sigManager: address, _buyerToken: address)</text>
<text text-anchor="start" x="593.3263" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPolicyInfoById(_policyId: uint256): (policy: PolicyInfo)</text>
<text text-anchor="start" x="593.3263" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;findPolicyBuyerById(_policyId: uint256): (buyerAddress: address)</text>
<text text-anchor="start" x="593.3263" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newApplication(_productId: uint256, _flightNumber: string, _premium: uint256, _departureTimestamp: uint256, _landingDate: uint256, _deadline: uint256, signature: bytes): (_policyId: uint256)</text>
<text text-anchor="start" x="593.3263" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newClaimRequest(_policyId: uint256, _flightNumber: string, _timestamp: string, _path: string, _forceUpdate: bool)</text>
<text text-anchor="start" x="593.3263" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;finalSettlement(_requestId: bytes32, _result: uint256)</text>
</g>
<!-- 6 -->
<g id="node10" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-2199.5 0,-2374.7 295.195,-2374.7 295.195,-2199.5 0,-2199.5"/>
<text text-anchor="middle" x="147.5975" y="-2358.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="147.5975" y="-2341.3" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyParameters</text>
<polyline fill="none" stroke="#000000" points="0,-2333.1 295.195,-2333.1 "/>
<text text-anchor="start" x="8" y="-2316.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-2299.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PRODUCT_ID: uint256</text>
<text text-anchor="start" x="8" y="-2282.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_PAYOFF: uint256</text>
<text text-anchor="start" x="8" y="-2266.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;DELAY_THRESHOLD_MIN: uint256</text>
<text text-anchor="start" x="8" y="-2249.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;DELAY_THRESHOLD_MAX: uint256</text>
<text text-anchor="start" x="8" y="-2232.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_TIME_BEFORE_DEPARTURE: uint256</text>
<polyline fill="none" stroke="#000000" points="0,-2224.3 295.195,-2224.3 "/>
<text text-anchor="middle" x="147.5975" y="-2207.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge11" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M585.2116,-1881.8062C486.4872,-1940.818 388.3517,-2007.9082 303.5975,-2081.4 272.5657,-2108.3082 243.7605,-2142.3108 219.5643,-2174.8805"/>
<polygon fill="none" stroke="#000000" points="210.9543,-2168.8693 201.9992,-2199.3661 228.0178,-2181.11 210.9543,-2168.8693"/>
</g>
<!-- 7 -->
<g id="node11" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="313.0915,-2216.3 313.0915,-2357.9 572.1035,-2357.9 572.1035,-2216.3 313.0915,-2216.3"/>
<text text-anchor="middle" x="442.5975" y="-2341.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="442.5975" y="-2324.5" font-family="Times,serif" font-size="14.00" fill="#000000">IFDPolicyToken</text>
<polyline fill="none" stroke="#000000" points="313.0915,-2316.3 572.1035,-2316.3 "/>
<text text-anchor="middle" x="442.5975" y="-2299.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="313.0915,-2291.5 572.1035,-2291.5 "/>
<text text-anchor="start" x="321.0915" y="-2274.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="321.0915" y="-2258.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mintPolicyToken(_receiver: address)</text>
<text text-anchor="start" x="321.0915" y="-2241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;tokenURI(_tokenId: uint256): string</text>
<text text-anchor="start" x="321.0915" y="-2224.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTokenURI(_tokenId: uint256): string</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge13" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M614.606,-2044.9807C602.9857,-2057.0616 591.6293,-2069.2102 580.5975,-2081.4 545.9177,-2119.7199 513.3852,-2167.3953 488.6272,-2207.1966"/>
<polygon fill="#000000" stroke="#000000" points="485.5766,-2205.4754 483.3051,-2215.8239 491.5342,-2209.1506 485.5766,-2205.4754"/>
</g>
<!-- 8 -->
<g id="node12" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="589.8071,-2191.1 589.8071,-2383.1 1121.3879,-2383.1 1121.3879,-2191.1 589.8071,-2191.1"/>
<text text-anchor="middle" x="855.5975" y="-2366.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="855.5975" y="-2349.7" font-family="Times,serif" font-size="14.00" fill="#000000">IFlightOracle</text>
<polyline fill="none" stroke="#000000" points="589.8071,-2341.5 1121.3879,-2341.5 "/>
<text text-anchor="middle" x="855.5975" y="-2324.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="589.8071,-2316.7 1121.3879,-2316.7 "/>
<text text-anchor="start" x="597.8071" y="-2300.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="597.8071" y="-2283.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;newOracleRequest(_payment: uint256, _url: string, _path: string, times: int256): bytes32</text>
<text text-anchor="start" x="597.8071" y="-2266.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setURL(_url: string)</text>
<text text-anchor="start" x="597.8071" y="-2249.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setOracleAddress(_newOracle: address)</text>
<text text-anchor="start" x="597.8071" y="-2232.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setJobId(_newJobId: bytes32)</text>
<text text-anchor="start" x="597.8071" y="-2216.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPolicyFlow(_policyFlow: address)</text>
<text text-anchor="start" x="597.8071" y="-2199.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getChainlinkTokenAddress(): address</text>
</g>
<!-- 3&#45;&gt;8 -->
<g id="edge14" class="edge">
<title>3&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M960.3975,-2045.1268C938.6162,-2095.4178 918.1673,-2142.6323 901.2173,-2181.7682"/>
<polygon fill="#000000" stroke="#000000" points="897.972,-2180.4549 897.2093,-2191.0222 904.3954,-2183.237 897.972,-2180.4549"/>
</g>
<!-- 9 -->
<g id="node13" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1139.1749,-2081.9 1139.1749,-2492.3 1654.0201,-2492.3 1654.0201,-2081.9 1139.1749,-2081.9"/>
<text text-anchor="middle" x="1396.5975" y="-2475.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1396.5975" y="-2458.9" font-family="Times,serif" font-size="14.00" fill="#000000">IInsurancePool</text>
<polyline fill="none" stroke="#000000" points="1139.1749,-2450.7 1654.0201,-2450.7 "/>
<text text-anchor="middle" x="1396.5975" y="-2434.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1139.1749,-2425.9 1654.0201,-2425.9 "/>
<text text-anchor="start" x="1147.1749" y="-2409.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1147.1749" y="-2392.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getUserBalance(address): uint256</text>
<text text-anchor="start" x="1147.1749" y="-2375.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPoolUnlocked(): uint256</text>
<text text-anchor="start" x="1147.1749" y="-2358.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getUnlockedFor(_user: address): uint256</text>
<text text-anchor="start" x="1147.1749" y="-2342.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getLockedFor(_user: address): uint256</text>
<text text-anchor="start" x="1147.1749" y="-2325.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;checkCapacity(_payoff: uint256): bool</text>
<text text-anchor="start" x="1147.1749" y="-2308.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPurchaseIncentive(_newIncentive: uint256)</text>
<text text-anchor="start" x="1147.1749" y="-2291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setFrozenTime(_newFrozenTime: uint256)</text>
<text text-anchor="start" x="1147.1749" y="-2274.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPolicyFlow(_policyFlowAddress: address)</text>
<text text-anchor="start" x="1147.1749" y="-2258.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setIncomeDistribution(_newDistribution: uint256[])</text>
<text text-anchor="start" x="1147.1749" y="-2241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setCollateralFactor(_factor: uint256)</text>
<text text-anchor="start" x="1147.1749" y="-2224.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferOwnership(_newOwner: address)</text>
<text text-anchor="start" x="1147.1749" y="-2207.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;stake(_user: address, _amount: uint256)</text>
<text text-anchor="start" x="1147.1749" y="-2190.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unstake(_amount: uint256)</text>
<text text-anchor="start" x="1147.1749" y="-2174.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unstakeMax()</text>
<text text-anchor="start" x="1147.1749" y="-2157.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateWhenBuy(_premium: uint256, _payoff: uint256, _user: address)</text>
<text text-anchor="start" x="1147.1749" y="-2140.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateWhenExpire(_premium: uint256, _payoff: uint256, _user: address)</text>
<text text-anchor="start" x="1147.1749" y="-2123.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;payClaim(_premium: uint256, _payoff: uint256, _realPayoff: uint256, _user: address)</text>
<text text-anchor="start" x="1147.1749" y="-2106.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;revertUnstakeRequest(_user: address)</text>
<text text-anchor="start" x="1147.1749" y="-2090.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;revertAllUnstakeRequest(_user: address)</text>
</g>
<!-- 3&#45;&gt;9 -->
<g id="edge15" class="edge">
<title>3&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M1307.2304,-2045.1268C1310.609,-2054.2749 1313.9501,-2063.3212 1317.2424,-2072.2356"/>
<polygon fill="#000000" stroke="#000000" points="1314.0474,-2073.6874 1320.7953,-2081.8555 1320.6139,-2071.2622 1314.0474,-2073.6874"/>
</g>
<!-- 3&#45;&gt;11 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1710.082,-2025.8724C1726.8443,-2032.9376 1743.6974,-2039.4744 1760.5975,-2045.4 1823.5176,-2067.4615 2307.6685,-2039.5787 2359.5975,-2081.4 2397.9189,-2112.2623 2412.102,-2166.3463 2416.8716,-2211.3128"/>
<polygon fill="none" stroke="#000000" points="2406.3973,-2212.0497 2418.8716,-2241.284 2427.3507,-2210.6514 2406.3973,-2212.0497"/>
</g>
<!-- 12 -->
<g id="node18" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1672.3372,-2182.7 1672.3372,-2391.5 2350.8578,-2391.5 2350.8578,-2182.7 1672.3372,-2182.7"/>
<text text-anchor="middle" x="2011.5975" y="-2374.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2011.5975" y="-2358.1" font-family="Times,serif" font-size="14.00" fill="#000000">ISigManager</text>
<polyline fill="none" stroke="#000000" points="1672.3372,-2349.9 2350.8578,-2349.9 "/>
<text text-anchor="middle" x="2011.5975" y="-2333.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1672.3372,-2325.1 2350.8578,-2325.1 "/>
<text text-anchor="start" x="1680.3372" y="-2308.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1680.3372" y="-2291.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addSigner(address)</text>
<text text-anchor="start" x="1680.3372" y="-2274.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeSigner(address)</text>
<text text-anchor="start" x="1680.3372" y="-2258.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isValidSigner(address): bool</text>
<text text-anchor="start" x="1680.3372" y="-2241.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;checkSignature(signature: bytes, _flightNumber: string, _address: address, _premium: uint256, _deadline: uint256)</text>
<text text-anchor="start" x="1680.3372" y="-2224.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1680.3372" y="-2207.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SignerAdded(_newSigner: address)</text>
<text text-anchor="start" x="1680.3372" y="-2190.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SignerRemoved(_oldSigner: address)</text>
</g>
<!-- 3&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>3&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M1701.5043,-2045.1268C1762.9278,-2093.0571 1820.7701,-2138.1928 1869.4821,-2176.2039"/>
<polygon fill="#000000" stroke="#000000" points="1867.4946,-2179.0925 1877.5316,-2182.4852 1871.801,-2173.5739 1867.4946,-2179.0925"/>
</g>
<!-- 4 -->
<g id="node6" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4262.4168,-168.5 4262.4168,-427.7 4918.7782,-427.7 4918.7782,-168.5 4262.4168,-168.5"/>
<text text-anchor="middle" x="4590.5975" y="-411.1" font-family="Times,serif" font-size="14.00" fill="#000000">SigManager</text>
<polyline fill="none" stroke="#000000" points="4262.4168,-402.9 4918.7782,-402.9 "/>
<text text-anchor="start" x="4270.4168" y="-386.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4270.4168" y="-369.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_isValidSigner: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="4270.4168" y="-352.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_SUBMIT_APPLICATION_TYPEHASH: bytes32</text>
<polyline fill="none" stroke="#000000" points="4262.4168,-344.5 4918.7782,-344.5 "/>
<text text-anchor="start" x="4270.4168" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4270.4168" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addSigner(_newSigner: address)</text>
<text text-anchor="start" x="4270.4168" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeSigner(_oldSigner: address)</text>
<text text-anchor="start" x="4270.4168" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkSignature(signature: bytes, _flightNumber: string, _user: address, _premium: uint256, _deadline: uint256)</text>
<text text-anchor="start" x="4270.4168" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4270.4168" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SignerAdded(_newSigner: address)</text>
<text text-anchor="start" x="4270.4168" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SignerRemoved(_oldSigner: address)</text>
<text text-anchor="start" x="4270.4168" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; validAddress(_address: address)</text>
<text text-anchor="start" x="4270.4168" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4270.4168" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isValidSigner(_address: address): bool</text>
</g>
<!-- 5struct0 -->
<g id="node8" class="node">
<title>5struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3912.4162,-256.5 3912.4162,-339.7 4068.7788,-339.7 4068.7788,-256.5 3912.4162,-256.5"/>
<text text-anchor="middle" x="3990.5975" y="-323.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3990.5975" y="-306.3" font-family="Times,serif" font-size="14.00" fill="#000000">UserInfo</text>
<polyline fill="none" stroke="#000000" points="3912.4162,-298.1 4068.7788,-298.1 "/>
<text text-anchor="start" x="3920.4162" y="-281.5" font-family="Times,serif" font-size="14.00" fill="#000000">depositTime: uint256</text>
<text text-anchor="start" x="3920.4162" y="-264.7" font-family="Times,serif" font-size="14.00" fill="#000000">pendingBalance: uint256</text>
</g>
<!-- 5struct0&#45;&gt;5 -->
<g id="edge2" class="edge">
<title>5struct0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M3990.5975,-340.0726C3990.5975,-399.28 3990.5975,-512.1966 3990.5975,-620.2383"/>
<polygon fill="#000000" stroke="#000000" points="3990.5976,-620.3652 3994.5975,-626.3653 3990.5975,-632.3652 3986.5975,-626.3652 3990.5976,-620.3652"/>
</g>
<!-- 5struct1 -->
<g id="node9" class="node">
<title>5struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4087.0151,-248.1 4087.0151,-348.1 4244.1799,-348.1 4244.1799,-248.1 4087.0151,-248.1"/>
<text text-anchor="middle" x="4165.5975" y="-331.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4165.5975" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">UnstakeRequest</text>
<polyline fill="none" stroke="#000000" points="4087.0151,-306.5 4244.1799,-306.5 "/>
<text text-anchor="start" x="4095.0151" y="-289.9" font-family="Times,serif" font-size="14.00" fill="#000000">pendingAmount: uint256</text>
<text text-anchor="start" x="4095.0151" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">fulfilledAmount: uint256</text>
<text text-anchor="start" x="4095.0151" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">isPaidOut: bool</text>
</g>
<!-- 5struct1&#45;&gt;5 -->
<g id="edge3" class="edge">
<title>5struct1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M4150.8428,-348.2181C4133.392,-407.4626 4103.4464,-509.0267 4077.5975,-596.2 4075.1672,-604.3961 4072.6971,-612.7211 4070.202,-621.126"/>
<polygon fill="#000000" stroke="#000000" points="4070.2012,-621.1287 4072.3278,-628.0191 4066.7853,-632.6323 4064.6588,-625.7419 4070.2012,-621.1287"/>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge16" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2631.0542,-1709.1382C2580.8857,-1844.976 2490.3773,-2090.0391 2445.0397,-2212.7967"/>
<polygon fill="none" stroke="#000000" points="2435.0824,-2209.4503 2434.5385,-2241.2301 2454.7818,-2216.7259 2435.0824,-2209.4503"/>
</g>
<!-- 11struct0 -->
<g id="node16" class="node">
<title>11struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1769.5894,-1487.3 1769.5894,-1738.5 1951.6056,-1738.5 1951.6056,-1487.3 1769.5894,-1487.3"/>
<text text-anchor="middle" x="1860.5975" y="-1721.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1860.5975" y="-1705.1" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyInfo</text>
<polyline fill="none" stroke="#000000" points="1769.5894,-1696.9 1951.6056,-1696.9 "/>
<text text-anchor="start" x="1777.5894" y="-1680.3" font-family="Times,serif" font-size="14.00" fill="#000000">productId: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1663.5" font-family="Times,serif" font-size="14.00" fill="#000000">buyerAddress: address</text>
<text text-anchor="start" x="1777.5894" y="-1646.7" font-family="Times,serif" font-size="14.00" fill="#000000">policyId: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1629.9" font-family="Times,serif" font-size="14.00" fill="#000000">flightNumber: string</text>
<text text-anchor="start" x="1777.5894" y="-1613.1" font-family="Times,serif" font-size="14.00" fill="#000000">premium: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1596.3" font-family="Times,serif" font-size="14.00" fill="#000000">payoff: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1579.5" font-family="Times,serif" font-size="14.00" fill="#000000">purchaseTimestamp: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1562.7" font-family="Times,serif" font-size="14.00" fill="#000000">departureTimestamp: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1545.9" font-family="Times,serif" font-size="14.00" fill="#000000">landingTimestamp: uint256</text>
<text text-anchor="start" x="1777.5894" y="-1529.1" font-family="Times,serif" font-size="14.00" fill="#000000">status: PolicyStatus</text>
<text text-anchor="start" x="1777.5894" y="-1512.3" font-family="Times,serif" font-size="14.00" fill="#000000">alreadySettled: bool</text>
<text text-anchor="start" x="1777.5894" y="-1495.5" font-family="Times,serif" font-size="14.00" fill="#000000">delayResult: uint256</text>
</g>
<!-- 11struct0&#45;&gt;11 -->
<g id="edge4" class="edge">
<title>11struct0&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M1853.0594,-1738.8695C1854.6181,-1837.6215 1874.6045,-1970.467 1960.5975,-2045.4 2027.7171,-2103.887 2291.1048,-2024.5271 2359.5975,-2081.4 2402.4418,-2116.9757 2414.9846,-2181.541 2418.0296,-2228.8755"/>
<polygon fill="#000000" stroke="#000000" points="2418.0422,-2229.134 2422.3329,-2234.9297 2418.6332,-2241.1194 2414.3426,-2235.3237 2418.0422,-2229.134"/>
</g>
<!-- 11enum0 -->
<g id="node17" class="node">
<title>11enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1969.4148,-1546.1 1969.4148,-1679.7 2069.7802,-1679.7 2069.7802,-1546.1 1969.4148,-1546.1"/>
<text text-anchor="middle" x="2019.5975" y="-1663.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2019.5975" y="-1646.3" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyStatus</text>
<polyline fill="none" stroke="#000000" points="1969.4148,-1638.1 2069.7802,-1638.1 "/>
<text text-anchor="start" x="1977.4148" y="-1621.5" font-family="Times,serif" font-size="14.00" fill="#000000">INI: 0</text>
<text text-anchor="start" x="1977.4148" y="-1604.7" font-family="Times,serif" font-size="14.00" fill="#000000">SOLD: 1</text>
<text text-anchor="start" x="1977.4148" y="-1587.9" font-family="Times,serif" font-size="14.00" fill="#000000">DECLINED: 2</text>
<text text-anchor="start" x="1977.4148" y="-1571.1" font-family="Times,serif" font-size="14.00" fill="#000000">EXPIRED: 3</text>
<text text-anchor="start" x="1977.4148" y="-1554.3" font-family="Times,serif" font-size="14.00" fill="#000000">CLAIMED: 4</text>
</g>
<!-- 11enum0&#45;&gt;11 -->
<g id="edge5" class="edge">
<title>11enum0&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M2006.3815,-1680.0194C1991.8697,-1775.513 1982.0188,-1949.6061 2078.5975,-2045.4 2167.9915,-2134.0676 2264.2516,-1999.1663 2359.5975,-2081.4 2401.7684,-2117.7715 2414.4274,-2182.1994 2417.6838,-2229.2841"/>
<polygon fill="#000000" stroke="#000000" points="2417.6942,-2229.4766 2422.0141,-2235.2505 2418.3459,-2241.4589 2414.0259,-2235.685 2417.6942,-2229.4766"/>
</g>
</g>
</svg>
