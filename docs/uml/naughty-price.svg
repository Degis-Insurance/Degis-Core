<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="5499pt" height="1793pt"
 viewBox="0.00 0.00 5499.43 1793.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1789.4)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1789.4 5495.4296,-1789.4 5495.4296,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="808.2731,-1424.9 808.2731,-1616.9 1181.5867,-1616.9 1181.5867,-1424.9 808.2731,-1424.9"/>
<text text-anchor="middle" x="994.9299" y="-1600.3" font-family="Times,serif" font-size="14.00" fill="#000000">NPPolicyToken</text>
<polyline fill="none" stroke="#000000" points="808.2731,-1592.1 1181.5867,-1592.1 "/>
<text text-anchor="start" x="816.2731" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="816.2731" y="-1558.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;minter: address</text>
<polyline fill="none" stroke="#000000" points="808.2731,-1550.5 1181.5867,-1550.5 "/>
<text text-anchor="start" x="816.2731" y="-1533.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="816.2731" y="-1517.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Mint(account: address, amount: uint256)</text>
<text text-anchor="start" x="816.2731" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Burn(account: address, amount: uint256)</text>
<text text-anchor="start" x="816.2731" y="-1483.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyMinter()</text>
<text text-anchor="start" x="816.2731" y="-1466.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string, _minter: address)</text>
<text text-anchor="start" x="816.2731" y="-1449.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(_account: address, _amount: uint256)</text>
<text text-anchor="start" x="816.2731" y="-1433.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(_account: address, _amount: uint256)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="662.8712,-523.9 662.8712,-883.9 1326.9886,-883.9 1326.9886,-523.9 662.8712,-523.9"/>
<text text-anchor="middle" x="994.9299" y="-867.3" font-family="Times,serif" font-size="14.00" fill="#000000">NaughtyFactory</text>
<polyline fill="none" stroke="#000000" points="662.8712,-859.1 1326.9886,-859.1 "/>
<text text-anchor="start" x="670.8712" y="-842.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="670.8712" y="-825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;getPair: mapping(address=&gt;mapping(address=&gt;address))</text>
<text text-anchor="start" x="670.8712" y="-808.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allPairs: address[]</text>
<text text-anchor="start" x="670.8712" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allTokens: address[]</text>
<text text-anchor="start" x="670.8712" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_nextId: uint256</text>
<text text-anchor="start" x="670.8712" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyCore: address</text>
<text text-anchor="start" x="670.8712" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PAIR_INIT_CODE_HASH: bytes32</text>
<polyline fill="none" stroke="#000000" points="662.8712,-733.5 1326.9886,-733.5 "/>
<text text-anchor="start" x="670.8712" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="670.8712" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_deploy(code: bytes, salt: bytes32): (addr: address)</text>
<text text-anchor="start" x="670.8712" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="670.8712" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLatestTokenAddress(): address</text>
<text text-anchor="start" x="670.8712" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getInitCodeHashForPolicyToken(_policyTokenName: string): bytes32</text>
<text text-anchor="start" x="670.8712" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPolicyCoreAddress(_policyCore: address)</text>
<text text-anchor="start" x="670.8712" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deployPool(_policyTokenAddress: address, _stablecoin: address, _deadline: uint256, _feeRate: uint256): address</text>
<text text-anchor="start" x="670.8712" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="670.8712" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; alreadySetPolicyCore()</text>
<text text-anchor="start" x="670.8712" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPairAddress(_tokenAddress1: address, _tokenAddress2: address): address</text>
<text text-anchor="start" x="670.8712" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deployPolicyToken(_policyTokenName: string): address</text>
<text text-anchor="start" x="670.8712" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPolicyTokenBytecode(_tokenName: string): bytes</text>
</g>
<!-- 1&#45;&gt;0 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;0</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M994.9299,-883.9525C994.9299,-1046.4063 994.9299,-1279.9058 994.9299,-1414.4206"/>
<polygon fill="#000000" stroke="#000000" points="991.43,-1414.7292 994.9299,-1424.7292 998.43,-1414.7292 991.43,-1414.7292"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-1256.9 0,-1784.9 789.8598,-1784.9 789.8598,-1256.9 0,-1256.9"/>
<text text-anchor="middle" x="394.9299" y="-1768.3" font-family="Times,serif" font-size="14.00" fill="#000000">NaughtyPair</text>
<polyline fill="none" stroke="#000000" points="0,-1760.1 789.8598,-1760.1 "/>
<text text-anchor="start" x="8" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;reserve0: uint112</text>
<text text-anchor="start" x="8" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;reserve1: uint112</text>
<text text-anchor="start" x="8" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;factory: address</text>
<text text-anchor="start" x="8" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;token0: address</text>
<text text-anchor="start" x="8" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;token1: address</text>
<text text-anchor="start" x="8" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;unlocked: bool</text>
<text text-anchor="start" x="8" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;deadline: uint256</text>
<text text-anchor="start" x="8" y="-1592.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;feeRate: uint256</text>
<text text-anchor="start" x="8" y="-1575.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MINIMUM_LIQUIDITY: uint256</text>
<polyline fill="none" stroke="#000000" points="0,-1567.3 789.8598,-1567.3 "/>
<text text-anchor="start" x="8" y="-1550.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8" y="-1533.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_update(balance0: uint256, balance1: uint256)</text>
<text text-anchor="start" x="8" y="-1517.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;min(x: uint256, y: uint256): (z: uint256)</text>
<text text-anchor="start" x="8" y="-1483.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-1466.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_token0: address, _token1: address, _deadline: uint256, _feeRate: uint256)</text>
<text text-anchor="start" x="8" y="-1449.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(to: address): (liquidity: uint256)</text>
<text text-anchor="start" x="8" y="-1433.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(_to: address): (amount0: uint256, amount1: uint256)</text>
<text text-anchor="start" x="8" y="-1416.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;swap(_amount0Out: uint256, _amount1Out: uint256, _to: address)</text>
<text text-anchor="start" x="8" y="-1399.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sync()</text>
<text text-anchor="start" x="8" y="-1382.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-1365.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReserveUpdated(reserve0: uint256, reserve1: uint256)</text>
<text text-anchor="start" x="8" y="-1349.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Swap(sender: address, amountAIn: uint256, amountBIn: uint256, amountAOut: uint256, amountBOut: uint256, to: address)</text>
<text text-anchor="start" x="8" y="-1332.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Mint(sender: address, amountA: uint256, amountB: uint256)</text>
<text text-anchor="start" x="8" y="-1315.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Burn(sender: address, amountA: uint256, amountB: uint256, to: address)</text>
<text text-anchor="start" x="8" y="-1298.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; beforeDeadline()</text>
<text text-anchor="start" x="8" y="-1281.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8" y="-1265.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getReserves(): (_reserve0: uint112, _reserve1: uint112)</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M862.7004,-883.9525C784.1895,-990.8582 683.0838,-1128.5304 594.9684,-1248.5142"/>
<polygon fill="#000000" stroke="#000000" points="592.0138,-1246.6245 588.9155,-1256.7562 597.6558,-1250.768 592.0138,-1246.6245"/>
</g>
<!-- 8 -->
<g id="node12" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1199.7934,-1382.9 1199.7934,-1658.9 1706.0664,-1658.9 1706.0664,-1382.9 1199.7934,-1382.9"/>
<text text-anchor="middle" x="1452.9299" y="-1642.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1452.9299" y="-1625.5" font-family="Times,serif" font-size="14.00" fill="#000000">INaughtyPair</text>
<polyline fill="none" stroke="#000000" points="1199.7934,-1617.3 1706.0664,-1617.3 "/>
<text text-anchor="middle" x="1452.9299" y="-1600.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1199.7934,-1592.5 1706.0664,-1592.5 "/>
<text text-anchor="start" x="1207.7934" y="-1575.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1207.7934" y="-1559.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;factory(): address</text>
<text text-anchor="start" x="1207.7934" y="-1542.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;token0(): address</text>
<text text-anchor="start" x="1207.7934" y="-1525.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;token1(): address</text>
<text text-anchor="start" x="1207.7934" y="-1508.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;feeRate(): uint256</text>
<text text-anchor="start" x="1207.7934" y="-1491.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deadline(): uint256</text>
<text text-anchor="start" x="1207.7934" y="-1475.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getReserves(): (_reserve0: uint112, _reserve1: uint112)</text>
<text text-anchor="start" x="1207.7934" y="-1458.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;swap(uint256, uint256, address)</text>
<text text-anchor="start" x="1207.7934" y="-1441.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(address): (uint256, uint256)</text>
<text text-anchor="start" x="1207.7934" y="-1424.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(address): uint256</text>
<text text-anchor="start" x="1207.7934" y="-1407.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sync()</text>
<text text-anchor="start" x="1207.7934" y="-1391.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(_token0: address, _token1: address, _deadline: uint256, _feeRate: uint256)</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1095.8651,-883.9525C1178.3431,-1031.0803 1293.4882,-1236.481 1370.4953,-1373.8497"/>
<polygon fill="#000000" stroke="#000000" points="1367.5687,-1375.7868 1375.5117,-1382.7982 1373.6748,-1372.3638 1367.5687,-1375.7868"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2300.7769,-439.9 2300.7769,-967.9 3729.0829,-967.9 3729.0829,-439.9 2300.7769,-439.9"/>
<text text-anchor="middle" x="3014.9299" y="-951.3" font-family="Times,serif" font-size="14.00" fill="#000000">NaughtyRouter</text>
<polyline fill="none" stroke="#000000" points="2300.7769,-943.1 3729.0829,-943.1 "/>
<text text-anchor="start" x="2308.7769" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2308.7769" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;factory: address</text>
<text text-anchor="start" x="2308.7769" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyCore: address</text>
<text text-anchor="start" x="2308.7769" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;buyerToken: address</text>
<polyline fill="none" stroke="#000000" points="2300.7769,-867.9 3729.0829,-867.9 "/>
<text text-anchor="start" x="2308.7769" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="2308.7769" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addLiquidity(_tokenA: address, _tokenB: address, _amountADesired: uint256, _amountBDesired: uint256, _amountAMin: uint256, _amountBMin: uint256): (amountA: uint256, amountB: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2308.7769" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferHelper(_token: address, _from: address, _to: address, _amount: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_swap(_pair: address, _amountIn: uint256, _amountOut: uint256, _isBuying: bool, _to: address)</text>
<text text-anchor="start" x="2308.7769" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintPolicyTokensForUser(_policyTokenAddress: address, _stablecoin: address, _amount: uint256, _user: address)</text>
<text text-anchor="start" x="2308.7769" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkStablecoin(_tokenAddress: address): bool</text>
<text text-anchor="start" x="2308.7769" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getReserves(tokenA: address, tokenB: address): (reserveA: uint112, reserveB: uint112)</text>
<text text-anchor="start" x="2308.7769" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPairAddress(tokenA: address, tokenB: address): address</text>
<text text-anchor="start" x="2308.7769" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getAmountOut(isBuying: bool, _amountIn: uint256, _tokenIn: address, _tokenOut: address, _feeRate: uint256): (amountOut: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getAmountIn(isBuying: bool, _amountOut: uint256, _tokenIn: address, _tokenOut: address, _feeRate: uint256): (amountIn: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_quote(_amountA: uint256, _reserveA: uint256, _reserveB: uint256): (amountB: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2308.7769" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPolicyCore(_coreAddress: address)</text>
<text text-anchor="start" x="2308.7769" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBuyerToken(_buyerToken: address)</text>
<text text-anchor="start" x="2308.7769" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addLiquidityWithUSD(_tokenA: address, _tokenB: address, _amountUSD: uint256, _to: address, _minRatio: uint256, _deadline: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;swapTokensforExactTokens(_amountInMax: uint256, _amountOut: uint256, _tokenIn: address, _tokenOut: address, _to: address, _deadline: uint256): (amountIn: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;swapExactTokensforTokens(_amountIn: uint256, _amountOutMin: uint256, _tokenIn: address, _tokenOut: address, _to: address, _deadline: uint256): (amountOut: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2308.7769" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LiquidityAdded(pairAddress: address, amountA: uint256, amountB: uint256, liquidity: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LiquidityRemoved(pairAddress: address, amountA: uint256, amountB: uint256, liquidity: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; beforeDeadline(_deadLine: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_factory: address, _buyerToken: address)</text>
<text text-anchor="start" x="2308.7769" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addLiquidity(_tokenA: address, _tokenB: address, _amountADesired: uint256, _amountBDesired: uint256, _amountAMin: uint256, _amountBMin: uint256, _to: address, _deadline: uint256): (amountA: uint256, amountB: uint256, liquidity: uint256)</text>
<text text-anchor="start" x="2308.7769" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeLiquidity(_tokenA: address, _tokenB: address, _liquidity: uint256, _amountAMin: uint256, _amountBMin: uint256, _to: address, _deadline: uint256): (amountA: uint256, amountB: uint256)</text>
</g>
<!-- 7 -->
<g id="node11" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2863.1212,-1450.1 2863.1212,-1591.7 3530.7386,-1591.7 3530.7386,-1450.1 2863.1212,-1450.1"/>
<text text-anchor="middle" x="3196.9299" y="-1575.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3196.9299" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000">INaughtyFactory</text>
<polyline fill="none" stroke="#000000" points="2863.1212,-1550.1 3530.7386,-1550.1 "/>
<text text-anchor="middle" x="3196.9299" y="-1533.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2863.1212,-1525.3 3530.7386,-1525.3 "/>
<text text-anchor="start" x="2871.1212" y="-1508.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2871.1212" y="-1491.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPairAddress(_tokenAddress1: address, _tokenAddress2: address): address</text>
<text text-anchor="start" x="2871.1212" y="-1475.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deployPolicyToken(_policyTokenName: string): address</text>
<text text-anchor="start" x="2871.1212" y="-1458.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deployPool(_policyTokenAddress: address, _stablecoin: address, _deadline: uint256, _feeRate: uint256): address</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge10" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3073.7687,-968.0282C3110.2262,-1131.6862 3154.5874,-1330.8239 3178.8762,-1439.8566"/>
<polygon fill="#000000" stroke="#000000" points="3175.5007,-1440.8011 3181.0914,-1449.8008 3182.3332,-1439.279 3175.5007,-1440.8011"/>
</g>
<!-- 3&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2724.6379,-967.9665C2600.3556,-1065.1586 2448.0122,-1164.9573 2291.9299,-1220.4 2170.8691,-1263.4026 1831.9073,-1203.2847 1714.9299,-1256.4 1656.2734,-1283.0338 1603.5771,-1329.021 1561.0911,-1375.2549"/>
<polygon fill="#000000" stroke="#000000" points="1558.4871,-1372.9161 1554.3606,-1382.6743 1563.6718,-1377.6193 1558.4871,-1372.9161"/>
</g>
<!-- 9 -->
<g id="node13" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1723.9459,-1349.3 1723.9459,-1692.5 2659.9139,-1692.5 2659.9139,-1349.3 1723.9459,-1349.3"/>
<text text-anchor="middle" x="2191.9299" y="-1675.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2191.9299" y="-1659.1" font-family="Times,serif" font-size="14.00" fill="#000000">IPolicyCore</text>
<polyline fill="none" stroke="#000000" points="1723.9459,-1650.9 2659.9139,-1650.9 "/>
<text text-anchor="middle" x="2191.9299" y="-1634.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1723.9459,-1626.1 2659.9139,-1626.1 "/>
<text text-anchor="start" x="1731.9459" y="-1609.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1731.9459" y="-1592.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;findAddressbyName(_policyTokenName: string): (_policyTokenAddress: address)</text>
<text text-anchor="start" x="1731.9459" y="-1575.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;findNamebyAddress(_policyTokenAddress: address): string</text>
<text text-anchor="start" x="1731.9459" y="-1559.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPolicyTokenInfo(_policyTokenName: string): PolicyTokenInfo</text>
<text text-anchor="start" x="1731.9459" y="-1542.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAllTokens(): PolicyTokenInfo[]</text>
<text text-anchor="start" x="1731.9459" y="-1525.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;checkUserQuota(_user: address, _policyTokenAddress: address): (_quota: uint256)</text>
<text text-anchor="start" x="1731.9459" y="-1508.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;supportedStablecoin(_coinAddress: address): bool</text>
<text text-anchor="start" x="1731.9459" y="-1491.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addStablecoin(_newStablecoin: address)</text>
<text text-anchor="start" x="1731.9459" y="-1475.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setLottery(_lotteryAddress: address)</text>
<text text-anchor="start" x="1731.9459" y="-1458.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setEmergencyPool(_emergencyPool: address)</text>
<text text-anchor="start" x="1731.9459" y="-1441.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deployPolicyToken(_policyTokenName: string, _isHigher: bool, _strikePrice: uint256, _deadline: uint256, _round: uint256, _settleTimestamp: uint256): address</text>
<text text-anchor="start" x="1731.9459" y="-1424.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deployPool(_policyTokenName: string, _stablecoin: address, _poolDeadline: uint256): address</text>
<text text-anchor="start" x="1731.9459" y="-1407.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit(_policyTokenName: string, _stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="1731.9459" y="-1391.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;delegateDeposit(_policyTokenName: string, _stablecoin: address, _amount: uint256, _user: address)</text>
<text text-anchor="start" x="1731.9459" y="-1374.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;redeem(_policyTokenName: string, _stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="1731.9459" y="-1357.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;claim(_policyTokenName: string, _stablecoin: address, _amount: uint256)</text>
</g>
<!-- 3&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2748.8619,-968.0282C2625.7048,-1090.2875 2482.602,-1232.347 2372.2947,-1341.8501"/>
<polygon fill="#000000" stroke="#000000" points="2369.708,-1339.4862 2365.0769,-1349.0153 2374.6397,-1344.454 2369.708,-1339.4862"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3747.3288,-187.9 3747.3288,-1219.9 4738.531,-1219.9 4738.531,-187.9 3747.3288,-187.9"/>
<text text-anchor="middle" x="4242.9299" y="-1203.3" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyCore</text>
<polyline fill="none" stroke="#000000" points="3747.3288,-1195.1 4738.531,-1195.1 "/>
<text text-anchor="start" x="3755.3288" y="-1178.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3755.3288" y="-1161.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;factory: INaughtyFactory</text>
<text text-anchor="start" x="3755.3288" y="-1144.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;priceGetter: IPriceGetter</text>
<text text-anchor="start" x="3755.3288" y="-1128.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lottery: address</text>
<text text-anchor="start" x="3755.3288" y="-1111.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;emergencyPool: address</text>
<text text-anchor="start" x="3755.3288" y="-1094.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;naughtyRouter: address</text>
<text text-anchor="start" x="3755.3288" y="-1077.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;currentDistributionIndex: uint256</text>
<text text-anchor="start" x="3755.3288" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyTokenInfoMapping: mapping(string=&gt;PolicyTokenInfo)</text>
<text text-anchor="start" x="3755.3288" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyTokenAddressToName: mapping(address=&gt;string)</text>
<text text-anchor="start" x="3755.3288" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allPolicyTokens: string[]</text>
<text text-anchor="start" x="3755.3288" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;supportedStablecoin: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="3755.3288" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;whichStablecoin: mapping(address=&gt;address)</text>
<text text-anchor="start" x="3755.3288" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;policyTokenToOriginal: mapping(address=&gt;string)</text>
<text text-anchor="start" x="3755.3288" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;userQuota: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="3755.3288" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;allDepositors: mapping(address=&gt;address[])</text>
<text text-anchor="start" x="3755.3288" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;settleResult: mapping(address=&gt;SettlementInfo)</text>
<polyline fill="none" stroke="#000000" points="3747.3288,-918.3 4738.531,-918.3 "/>
<text text-anchor="start" x="3755.3288" y="-901.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3755.3288" y="-884.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_finishSettlement(_policyTokenAddress: address, _stablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-868.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mintPolicyToken(_policyTokenAddress: address, _amount: uint256, _user: address)</text>
<text text-anchor="start" x="3755.3288" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_redeemPolicyToken(_policyTokenAddress: address, _stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_settlePolicy(_policyTokenAddress: address, _stablecoin: address, _start: uint256, _stop: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_generateName(_tokenName: string, _decimals: uint256, _strikePrice: uint256, _isCall: bool, _round: uint256): string</text>
<text text-anchor="start" x="3755.3288" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3755.3288" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;checkUserQuota(_user: address, _policyTokenAddress: address): (_quota: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAllTokens(): PolicyTokenInfo[]</text>
<text text-anchor="start" x="3755.3288" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addStablecoin(_newStablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLottery(_lotteryAddress: address)</text>
<text text-anchor="start" x="3755.3288" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setEmergencyPool(_emergencyPool: address)</text>
<text text-anchor="start" x="3755.3288" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setNaughtyRouter(_router: address)</text>
<text text-anchor="start" x="3755.3288" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deployPolicyToken(_tokenName: string, _isCall: bool, _decimals: uint256, _strikePrice: uint256, _round: uint256, _deadline: uint256, _settleTimestamp: uint256): address</text>
<text text-anchor="start" x="3755.3288" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deployPool(_policyTokenName: string, _stablecoin: address, _poolDeadline: uint256, _feeRate: uint256): address</text>
<text text-anchor="start" x="3755.3288" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deposit(_policyTokenName: string, _stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;delegateDeposit(_policyTokenName: string, _stablecoin: address, _amount: uint256, _user: address)</text>
<text text-anchor="start" x="3755.3288" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3755.3288" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LotteryChanged(newLotteryAddress: address)</text>
<text text-anchor="start" x="3755.3288" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; EmergencyPoolChanged(newEmergencyPool: address)</text>
<text text-anchor="start" x="3755.3288" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NaughtyRouterChanged(newRouter: address)</text>
<text text-anchor="start" x="3755.3288" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PolicyTokenDeployed(tokenName: string, tokenAddress: address, deadline: uint256, settleTimestamp: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolDeployed(poolAddress: address, policyTokenAddress: address, stablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Deposit(userAddress: address, policyTokenName: string, stablecoin: address, amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DelegateDeposit(payerAddress: address, userAddress: address, policyTokenName: string, stablecoin: address, amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FinalResultSettled(_policyTokenName: string, price: uint256, isHappened: bool)</text>
<text text-anchor="start" x="3755.3288" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; NewStablecoinAdded(_newStablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FinishSettlementPolicies(_policyTokenAddress: address, _stablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; validStablecoin(_stablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; deployedPolicy(_policyTokenName: string)</text>
<text text-anchor="start" x="3755.3288" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; enoughUSD(_stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; beforeDeadline(_policyTokenName: string)</text>
<text text-anchor="start" x="3755.3288" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; afterSettlement(_policyTokenName: string)</text>
<text text-anchor="start" x="3755.3288" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notAlreadySettled(_policyTokenName: string)</text>
<text text-anchor="start" x="3755.3288" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_usdt: address, _factory: address, _priceGetter: address)</text>
<text text-anchor="start" x="3755.3288" y="-313.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;findAddressbyName(_policyTokenName: string): address</text>
<text text-anchor="start" x="3755.3288" y="-296.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;findNamebyAddress(_policyTokenAddress: address): string</text>
<text text-anchor="start" x="3755.3288" y="-280.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPolicyTokenInfo(_policyTokenName: string): PolicyTokenInfo</text>
<text text-anchor="start" x="3755.3288" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeem(_policyTokenName: string, _stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-246.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeemAfterSettlement(_policyTokenName: string, _stablecoin: address)</text>
<text text-anchor="start" x="3755.3288" y="-229.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claim(_policyTokenName: string, _stablecoin: address, _amount: uint256)</text>
<text text-anchor="start" x="3755.3288" y="-212.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleFinalResult(_policyTokenName: string)</text>
<text text-anchor="start" x="3755.3288" y="-196.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;settleAllPolicyTokens(_policyTokenName: string, _stablecoin: address, _startIndex: uint256, _stopIndex: uint256)</text>
</g>
<!-- 6 -->
<g id="node10" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4273.6476,-1458.5 4273.6476,-1583.3 4548.2122,-1583.3 4548.2122,-1458.5 4273.6476,-1458.5"/>
<text text-anchor="middle" x="4410.9299" y="-1566.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4410.9299" y="-1549.9" font-family="Times,serif" font-size="14.00" fill="#000000">INPPolicyToken</text>
<polyline fill="none" stroke="#000000" points="4273.6476,-1541.7 4548.2122,-1541.7 "/>
<text text-anchor="middle" x="4410.9299" y="-1525.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4273.6476,-1516.9 4548.2122,-1516.9 "/>
<text text-anchor="start" x="4281.6476" y="-1500.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4281.6476" y="-1483.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(_account: address, _amount: uint256)</text>
<text text-anchor="start" x="4281.6476" y="-1466.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(_account: address, _amount: uint256)</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge13" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4349.0886,-1220.16C4367.5981,-1310.1734 4384.5617,-1392.6688 4396.021,-1448.3966"/>
<polygon fill="#000000" stroke="#000000" points="4392.6533,-1449.3964 4398.0958,-1458.4865 4399.5098,-1447.9865 4392.6533,-1449.3964"/>
</g>
<!-- 4&#45;&gt;7 -->
<g id="edge11" class="edge">
<title>4&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M3747.2736,-1213.2116C3744.1601,-1215.6261 3741.0454,-1218.0225 3737.9299,-1220.4 3620.1694,-1310.264 3472.3321,-1390.4943 3360.9724,-1445.4019"/>
<polygon fill="#000000" stroke="#000000" points="3359.1009,-1442.4217 3351.6686,-1449.9723 3362.1873,-1448.7046 3359.1009,-1442.4217"/>
</g>
<!-- 10 -->
<g id="node15" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3896.6875,-1450.1 3896.6875,-1591.7 4255.1723,-1591.7 4255.1723,-1450.1 3896.6875,-1450.1"/>
<text text-anchor="middle" x="4075.9299" y="-1575.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4075.9299" y="-1558.3" font-family="Times,serif" font-size="14.00" fill="#000000">IPriceGetter</text>
<polyline fill="none" stroke="#000000" points="3896.6875,-1550.1 4255.1723,-1550.1 "/>
<text text-anchor="middle" x="4075.9299" y="-1533.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3896.6875,-1525.3 4255.1723,-1525.3 "/>
<text text-anchor="start" x="3904.6875" y="-1508.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3904.6875" y="-1491.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPriceFeedAddress(_tokenName: string): address</text>
<text text-anchor="start" x="3904.6875" y="-1475.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPriceFeed(_tokenName: string, _feedAddress: address)</text>
<text text-anchor="start" x="3904.6875" y="-1458.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getLatestPrice(_tokenName: string): (_price: uint256)</text>
</g>
<!-- 4&#45;&gt;10 -->
<g id="edge12" class="edge">
<title>4&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M4137.4031,-1220.16C4119.9207,-1305.6877 4103.8257,-1384.428 4092.4933,-1439.8682"/>
<polygon fill="#000000" stroke="#000000" points="4089.0071,-1439.4469 4090.4335,-1449.9453 4095.8653,-1440.8488 4089.0071,-1439.4469"/>
</g>
<!-- 4struct0 -->
<g id="node6" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4065.9281,-.5 4065.9281,-150.9 4247.9317,-150.9 4247.9317,-.5 4065.9281,-.5"/>
<text text-anchor="middle" x="4156.9299" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4156.9299" y="-117.5" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyTokenInfo</text>
<polyline fill="none" stroke="#000000" points="4065.9281,-109.3 4247.9317,-109.3 "/>
<text text-anchor="start" x="4073.9281" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">policyTokenAddress: address</text>
<text text-anchor="start" x="4073.9281" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">isCall: bool</text>
<text text-anchor="start" x="4073.9281" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">decimals: uint256</text>
<text text-anchor="start" x="4073.9281" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint256</text>
<text text-anchor="start" x="4073.9281" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">deadline: uint256</text>
<text text-anchor="start" x="4073.9281" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">settleTimestamp: uint256</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge1" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4167.2608,-151.1634C4168.3193,-158.8957 4169.4422,-167.0979 4170.6211,-175.7098"/>
<polygon fill="#000000" stroke="#000000" points="4170.6351,-175.8124 4175.412,-181.2144 4172.2628,-187.7015 4167.4859,-182.2995 4170.6351,-175.8124"/>
</g>
<!-- 4struct1 -->
<g id="node7" class="node">
<title>4struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4265.75,-25.7 4265.75,-125.7 4394.1098,-125.7 4394.1098,-25.7 4265.75,-25.7"/>
<text text-anchor="middle" x="4329.9299" y="-109.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4329.9299" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000">SettlementInfo</text>
<polyline fill="none" stroke="#000000" points="4265.75,-84.1 4394.1098,-84.1 "/>
<text text-anchor="start" x="4273.75" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">price: uint256</text>
<text text-anchor="start" x="4273.75" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">isHappened: bool</text>
<text text-anchor="start" x="4273.75" y="-33.9" font-family="Times,serif" font-size="14.00" fill="#000000">alreadySettled: bool</text>
</g>
<!-- 4struct1&#45;&gt;4 -->
<g id="edge2" class="edge">
<title>4struct1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4322.994,-125.7823C4321.0187,-140.0448 4318.6868,-156.883 4316.0846,-175.6723"/>
<polygon fill="#000000" stroke="#000000" points="4316.0765,-175.7314 4319.2156,-182.2234 4314.4303,-187.6179 4311.2912,-181.1259 4316.0765,-175.7314"/>
</g>
<!-- 5 -->
<g id="node8" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4756.4302,-607.9 4756.4302,-799.9 5491.4296,-799.9 5491.4296,-607.9 4756.4302,-607.9"/>
<text text-anchor="middle" x="5123.9299" y="-783.3" font-family="Times,serif" font-size="14.00" fill="#000000">PriceGetter</text>
<polyline fill="none" stroke="#000000" points="4756.4302,-775.1 5491.4296,-775.1 "/>
<text text-anchor="start" x="4764.4302" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4764.4302" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;priceFeedInfo: mapping(string=&gt;PriceFeedInfo)</text>
<polyline fill="none" stroke="#000000" points="4756.4302,-733.5 5491.4296,-733.5 "/>
<text text-anchor="start" x="4764.4302" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4764.4302" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PriceFeedChanged(tokenName: string, feedAddress: address, decimals: uint256)</text>
<text text-anchor="start" x="4764.4302" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LatestPriceGet(roundID: uint80, price: int256, startedAt: uint256, timeStamp: uint256, answeredInRound: uint80)</text>
<text text-anchor="start" x="4764.4302" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; notZeroAddress(_address: address)</text>
<text text-anchor="start" x="4764.4302" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4764.4302" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPriceFeed(_tokenName: string, _feedAddress: address, _decimals: uint256)</text>
<text text-anchor="start" x="4764.4302" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getLatestPrice(_tokenName: string): uint256</text>
</g>
<!-- 5struct0 -->
<g id="node9" class="node">
<title>5struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5040.7135,-34.1 5040.7135,-117.3 5207.1463,-117.3 5207.1463,-34.1 5040.7135,-34.1"/>
<text text-anchor="middle" x="5123.9299" y="-100.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5123.9299" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000">PriceFeedInfo</text>
<polyline fill="none" stroke="#000000" points="5040.7135,-75.7 5207.1463,-75.7 "/>
<text text-anchor="start" x="5048.7135" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">priceFeedAddress: address</text>
<text text-anchor="start" x="5048.7135" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">decimals: uint256</text>
</g>
<!-- 5struct0&#45;&gt;5 -->
<g id="edge3" class="edge">
<title>5struct0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M5123.9299,-117.4045C5123.9299,-213.7291 5123.9299,-454.2254 5123.9299,-595.5356"/>
<polygon fill="#000000" stroke="#000000" points="5123.93,-595.6325 5127.9299,-601.6326 5123.9299,-607.6325 5119.9299,-601.6325 5123.93,-595.6325"/>
</g>
<!-- 9struct0 -->
<g id="node14" class="node">
<title>9struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2100.9281,-637.1 2100.9281,-770.7 2282.9317,-770.7 2282.9317,-637.1 2100.9281,-637.1"/>
<text text-anchor="middle" x="2191.9299" y="-754.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2191.9299" y="-737.3" font-family="Times,serif" font-size="14.00" fill="#000000">PolicyTokenInfo</text>
<polyline fill="none" stroke="#000000" points="2100.9281,-729.1 2282.9317,-729.1 "/>
<text text-anchor="start" x="2108.9281" y="-712.5" font-family="Times,serif" font-size="14.00" fill="#000000">policyTokenAddress: address</text>
<text text-anchor="start" x="2108.9281" y="-695.7" font-family="Times,serif" font-size="14.00" fill="#000000">isCall: bool</text>
<text text-anchor="start" x="2108.9281" y="-678.9" font-family="Times,serif" font-size="14.00" fill="#000000">strikePrice: uint256</text>
<text text-anchor="start" x="2108.9281" y="-662.1" font-family="Times,serif" font-size="14.00" fill="#000000">deadline: uint256</text>
<text text-anchor="start" x="2108.9281" y="-645.3" font-family="Times,serif" font-size="14.00" fill="#000000">settleTimestamp: uint256</text>
</g>
<!-- 9struct0&#45;&gt;9 -->
<g id="edge4" class="edge">
<title>9struct0&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M2191.9299,-770.7585C2191.9299,-893.1382 2191.9299,-1157.0888 2191.9299,-1336.8861"/>
<polygon fill="#000000" stroke="#000000" points="2191.93,-1337.1437 2195.9299,-1343.1438 2191.9299,-1349.1437 2187.9299,-1343.1437 2191.93,-1337.1437"/>
</g>
</g>
</svg>
